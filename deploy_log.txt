
[1m[37m===[39m Deploying to 'eregi-dev'...[22m

[36m[1mi [22m[39m deploying [1mfunctions[22m
Running command: npm --prefix "$RESOURCE_DIR" run build

> build
> tsc

[32m[1m+ [22m[39m [32m[1mfunctions:[22m[39m Finished running [1mpredeploy[22m script.
[36m[1mi  functions:[22m[39m preparing codebase [1mdefault[22m for deployment
[36m[1mi  functions:[22m[39m ensuring required API [1mcloudfunctions.googleapis.com[22m is enabled...
[36m[1mi  functions:[22m[39m ensuring required API [1mcloudbuild.googleapis.com[22m is enabled...
[36m[1mi  artifactregistry:[22m[39m ensuring required API [1martifactregistry.googleapis.com[22m is enabled...
[33m[1m!  functions:[22m[39m Runtime Node.js 20 will be deprecated on 2026-04-30 and will be decommissioned on 2026-10-30, after which you will not be able to deploy without upgrading. Consider upgrading now to avoid disruption. See https://cloud.google.com/functions/docs/runtime-support for full details on the lifecycle policy
[33m[1m! [22m[39m [1m[33mfunctions: [39m[22mpackage.json indicates an outdated version of firebase-functions. Please upgrade using [1mnpm install --save firebase-functions@latest[22m in your functions directory.
[33m[1m! [22m[39m [1m[33mfunctions: [39m[22mPlease note that there will be breaking changes when you upgrade.
[36m[1mi  functions:[22m[39m Loading and analyzing source code for codebase default to determine what to deploy
[36m[1mi  functions:[22m[39m You are using a version of firebase-functions SDK (4.9.0) that does not have support for the newest Firebase Extensions features. Please update firebase-functions SDK to >=5.1.0 to use them correctly
Serving at port 8919

[Email] EMAIL_USER or EMAIL_PASSWORD not set. Email functionality will be disabled.

[36m[1mi  functions:[22m[39m preparing [1mfunctions[22m directory for uploading...
[36m[1mi [22m[39m [36m[1mfunctions:[22m[39m packaged [1mC:\Users\whhol\Documents\trae_projects\eRegi\functions[22m (37.09 MB) for uploading
[36m[1mi  functions:[22m[39m ensuring required API [1mcloudscheduler.googleapis.com[22m is enabled...
[33m[1m!  functions:[22m[39m missing required API [1mcloudscheduler.googleapis.com[22m. Enabling now...
[32m[1m+  functions:[22m[39m [1mfunctions[22m source uploaded successfully
[36m[1mi  functions:[22m[39m creating Node.js 20 (1st Gen) function [1monRegistrationCreated(us-central1)[22m...
[36m[1mi  functions:[22m[39m creating Node.js 20 (1st Gen) function [1monExternalAttendeeCreated(us-central1)[22m...
[36m[1mi  functions:[22m[39m creating Node.js 20 (1st Gen) function [1mvalidateBadgePrepToken(us-central1)[22m...
[36m[1mi  functions:[22m[39m creating Node.js 20 (1st Gen) function [1missueDigitalBadge(us-central1)[22m...
[36m[1mi  functions:[22m[39m creating Node.js 20 (1st Gen) function [1mresendBadgePrepToken(us-central1)[22m...
[36m[1mi  functions:[22m[39m creating Node.js 20 (1st Gen) function [1mgenerateFirebaseAuthUserForExternalAttendee(us-central1)[22m...
[36m[1mi  functions:[22m[39m creating Node.js 20 (1st Gen) function [1mmonitorRegistrationIntegrity(us-central1)[22m...
[36m[1mi  functions:[22m[39m creating Node.js 20 (1st Gen) function [1mmonitorMemberCodeIntegrity(us-central1)[22m...
[36m[1mi  functions:[22m[39m creating Node.js 20 (1st Gen) function [1mdailyErrorReport(us-central1)[22m...
[36m[1mi  functions:[22m[39m creating Node.js 20 (1st Gen) function [1mweeklyPerformanceReport(us-central1)[22m...
[36m[1mi  functions:[22m[39m creating Node.js 20 (1st Gen) function [1mresolveDataIntegrityAlert(us-central1)[22m...
[36m[1mi  functions:[22m[39m creating Node.js 20 (1st Gen) function [1mprepareNicePayment(us-central1)[22m...
[36m[1mi  functions:[22m[39m creating Node.js 20 (1st Gen) function [1mconfirmNicePayment(us-central1)[22m...
[36m[1mi  functions:[22m[39m creating Node.js 20 (1st Gen) function [1mconfirmTossPayment(us-central1)[22m...
[36m[1mi  functions:[22m[39m creating Node.js 20 (1st Gen) function [1mconfirmTossPaymentHttp(us-central1)[22m...
[36m[1mi  functions:[22m[39m creating Node.js 20 (1st Gen) function [1mcancelTossPayment(us-central1)[22m...
[36m[1mi  functions:[22m[39m creating Node.js 20 (1st Gen) function [1mgetNhnAlimTalkTemplates(us-central1)[22m...
[36m[1mi  functions:[22m[39m creating Node.js 20 (1st Gen) function [1mcreateSocietyAdminUser(us-central1)[22m...
[36m[1mi  functions:[22m[39m creating Node.js 20 (1st Gen) function [1mremoveSocietyAdminUser(us-central1)[22m...
[36m[1mi  functions:[22m[39m creating Node.js 20 (1st Gen) function [1msendAuthCode(us-central1)[22m...
[36m[1mi  functions:[22m[39m creating Node.js 20 (1st Gen) function [1mverifyMemberIdentity(us-central1)[22m...
[36m[1mi  functions:[22m[39m creating Node.js 20 (1st Gen) function [1mcheckEmailExists(us-central1)[22m...
[36m[1mi  functions:[22m[39m creating Node.js 20 (1st Gen) function [1mdeleteUserAccount(us-central1)[22m...
[36m[1mi  functions:[22m[39m creating Node.js 20 (1st Gen) function [1mmintCrossDomainToken(us-central1)[22m...
[36m[1mi  functions:[22m[39m creating Node.js 20 (1st Gen) function [1mverifyAccessLink(us-central1)[22m...
[36m[1mi  functions:[22m[39m creating Node.js 20 (1st Gen) function [1mgenerateAccessLink(us-central1)[22m...
[36m[1mi  functions:[22m[39m creating Node.js 20 (1st Gen) function [1mcheckNonMemberEmailExists(us-central1)[22m...
[36m[1mi  functions:[22m[39m creating Node.js 20 (1st Gen) function [1mlogError(us-central1)[22m...
[36m[1mi  functions:[22m[39m creating Node.js 20 (1st Gen) function [1mlogPerformance(us-central1)[22m...
[36m[1mi  functions:[22m[39m creating Node.js 20 (1st Gen) function [1monTossWebhook(us-central1)[22m...
[36m[1mi  functions:[22m[39m creating Node.js 20 (1st Gen) function [1mhealthCheck(us-central1)[22m...
[36m[1mi  functions:[22m[39m creating Node.js 20 (1st Gen) function [1mmigrateRegistrationsForOptions(us-central1)[22m...
[36m[1mi  functions:[22m[39m creating Node.js 20 (1st Gen) function [1mmigrateRegistrationsForOptionsCallable(us-central1)[22m...
Failed to create 1st Gen function projects/eregi-dev/locations/us-central1/functions/removeSocietyAdminUser: Build failed: Quota exceeded for quota metric 'Other API requests' and limit 'Other API requests per minute' of service 'cloudbuild.googleapis.com' for consumer 'project_number:336507907102'.
[32m[1m+ [22m[39m [1m[32mfunctions[issueDigitalBadge(us-central1)][39m[22m Successful create operation.
[32m[1m+ [22m[39m [1m[32mfunctions[verifyMemberIdentity(us-central1)][39m[22m Successful create operation.
[32m[1m+ [22m[39m [1m[32mfunctions[migrateRegistrationsForOptionsCallable(us-central1)][39m[22m Successful create operation.
[32m[1m+ [22m[39m [1m[32mfunctions[confirmTossPayment(us-central1)][39m[22m Successful create operation.
[32m[1m+ [22m[39m [1m[32mfunctions[createSocietyAdminUser(us-central1)][39m[22m Successful create operation.
[32m[1m+ [22m[39m [1m[32mfunctions[confirmTossPaymentHttp(us-central1)][39m[22m Successful create operation.
[32m[1m+ [22m[39m [1m[32mfunctions[confirmNicePayment(us-central1)][39m[22m Successful create operation.
[32m[1m+ [22m[39m [1m[32mfunctions[healthCheck(us-central1)][39m[22m Successful create operation.
[32m[1m+ [22m[39m [1m[32mfunctions[onTossWebhook(us-central1)][39m[22m Successful create operation.
[32m[1m+ [22m[39m [1m[32mfunctions[getNhnAlimTalkTemplates(us-central1)][39m[22m Successful create operation.
[32m[1m+ [22m[39m [1m[32mfunctions[checkNonMemberEmailExists(us-central1)][39m[22m Successful create operation.
[32m[1m+ [22m[39m [1m[32mfunctions[generateAccessLink(us-central1)][39m[22m Successful create operation.
[32m[1m+ [22m[39m [1m[32mfunctions[deleteUserAccount(us-central1)][39m[22m Successful create operation.
[32m[1m+ [22m[39m [1m[32mfunctions[sendAuthCode(us-central1)][39m[22m Successful create operation.
[32m[1m+ [22m[39m [1m[32mfunctions[prepareNicePayment(us-central1)][39m[22m Successful create operation.
[32m[1m+ [22m[39m [1m[32mfunctions[validateBadgePrepToken(us-central1)][39m[22m Successful create operation.
[32m[1m+ [22m[39m [1m[32mfunctions[resendBadgePrepToken(us-central1)][39m[22m Successful create operation.
[32m[1m+ [22m[39m [1m[32mfunctions[generateFirebaseAuthUserForExternalAttendee(us-central1)][39m[22m Successful create operation.
[32m[1m+ [22m[39m [1m[32mfunctions[resolveDataIntegrityAlert(us-central1)][39m[22m Successful create operation.
[32m[1m+ [22m[39m [1m[32mfunctions[logError(us-central1)][39m[22m Successful create operation.
[32m[1m+ [22m[39m [1m[32mfunctions[cancelTossPayment(us-central1)][39m[22m Successful create operation.
[32m[1m+ [22m[39m [1m[32mfunctions[logPerformance(us-central1)][39m[22m Successful create operation.
[32m[1m+ [22m[39m [1m[32mfunctions[verifyAccessLink(us-central1)][39m[22m Successful create operation.
[32m[1m+ [22m[39m [1m[32mfunctions[checkEmailExists(us-central1)][39m[22m Successful create operation.
[32m[1m+ [22m[39m [1m[32mfunctions[mintCrossDomainToken(us-central1)][39m[22m Successful create operation.
[32m[1m+ [22m[39m [1m[32mfunctions[migrateRegistrationsForOptions(us-central1)][39m[22m Successful create operation.
[32m[1m+ [22m[39m [1m[32mfunctions[weeklyPerformanceReport(us-central1)][39m[22m Successful create operation.
[32m[1m+ [22m[39m [1m[32mfunctions[onExternalAttendeeCreated(us-central1)][39m[22m Successful create operation.
[32m[1m+ [22m[39m [1m[32mfunctions[monitorMemberCodeIntegrity(us-central1)][39m[22m Successful create operation.
[32m[1m+ [22m[39m [1m[32mfunctions[onRegistrationCreated(us-central1)][39m[22m Successful create operation.
[32m[1m+ [22m[39m [1m[32mfunctions[monitorRegistrationIntegrity(us-central1)][39m[22m Successful create operation.
[32m[1m+ [22m[39m [1m[32mfunctions[dailyErrorReport(us-central1)][39m[22m Successful create operation.

Functions deploy had errors with the following functions:
	removeSocietyAdminUser(us-central1)
[1mFunction URL[22m (migrateRegistrationsForOptions(us-central1)): https://us-central1-eregi-dev.cloudfunctions.net/migrateRegistrationsForOptions
[1mFunction URL[22m (confirmTossPaymentHttp(us-central1)): https://us-central1-eregi-dev.cloudfunctions.net/confirmTossPaymentHttp
[1mFunction URL[22m (onTossWebhook(us-central1)): https://us-central1-eregi-dev.cloudfunctions.net/onTossWebhook
[1mFunction URL[22m (healthCheck(us-central1)): https://us-central1-eregi-dev.cloudfunctions.net/healthCheck
[33m[1m!  functions:[22m[39m No cleanup policy detected for repositories in us-central1. This may result in a small monthly bill as container images accumulate over time.
[34m?[39m [1mHow many days do you want to keep container images before they're deleted?[22m [2m(1)[22m
