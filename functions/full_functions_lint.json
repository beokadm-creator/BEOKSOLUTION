[{"filePath":"C:\\Users\\whhol\\Documents\\trae_projects\\eRegi\\functions\\src\\auth\\external.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\whhol\\Documents\\trae_projects\\eRegi\\functions\\src\\badge\\index.ts","messages":[],"suppressedMessages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":252,"column":31,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":252,"endColumn":34,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[8717,8720],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[8717,8720],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'_context' is defined but never used.","line":287,"column":30,"nodeType":null,"messageId":"unusedVar","endLine":287,"endColumn":38,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'_context' is defined but never used.","line":434,"column":30,"nodeType":null,"messageId":"unusedVar","endLine":434,"endColumn":38,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\whhol\\Documents\\trae_projects\\eRegi\\functions\\src\\clear-test-data.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\whhol\\Documents\\trae_projects\\eRegi\\functions\\src\\diagnose-registration.ts","messages":[],"suppressedMessages":[{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":193,"column":28,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":193,"endColumn":65,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\whhol\\Documents\\trae_projects\\eRegi\\functions\\src\\index.ts","messages":[],"suppressedMessages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'_context' is defined but never used.","line":58,"column":32,"nodeType":null,"messageId":"unusedVar","endLine":58,"endColumn":40,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'_context' is defined but never used.","line":81,"column":32,"nodeType":null,"messageId":"unusedVar","endLine":81,"endColumn":40,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'_context' is defined but never used.","line":248,"column":32,"nodeType":null,"messageId":"unusedVar","endLine":248,"endColumn":40,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":285,"column":123,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":285,"endColumn":126,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[15051,15054],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[15051,15054],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":504,"column":127,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":504,"endColumn":130,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[27110,27113],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[27110,27113],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'_context' is defined but never used.","line":936,"column":32,"nodeType":null,"messageId":"unusedVar","endLine":936,"endColumn":40,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'_context' is defined but never used.","line":1079,"column":32,"nodeType":null,"messageId":"unusedVar","endLine":1079,"endColumn":40,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'_context' is defined but never used.","line":1258,"column":32,"nodeType":null,"messageId":"unusedVar","endLine":1258,"endColumn":40,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'_context' is defined but never used.","line":1329,"column":32,"nodeType":null,"messageId":"unusedVar","endLine":1329,"endColumn":40,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'_context' is defined but never used.","line":1416,"column":32,"nodeType":null,"messageId":"unusedVar","endLine":1416,"endColumn":40,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'_context' is defined but never used.","line":1512,"column":32,"nodeType":null,"messageId":"unusedVar","endLine":1512,"endColumn":40,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":1722,"column":90,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":1722,"endColumn":93,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[82914,82917],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[82914,82917],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":1722,"column":124,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":1722,"endColumn":127,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[82948,82951],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[82948,82951],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":1787,"column":25,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":1787,"endColumn":28,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[85868,85871],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[85868,85871],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\whhol\\Documents\\trae_projects\\eRegi\\functions\\src\\migrations\\migrateRegistrationsForOptions.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\whhol\\Documents\\trae_projects\\eRegi\\functions\\src\\monitoring\\dataIntegrity.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\whhol\\Documents\\trae_projects\\eRegi\\functions\\src\\monitoring\\resolveAlert.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\whhol\\Documents\\trae_projects\\eRegi\\functions\\src\\monitoring\\scheduledReports.ts","messages":[],"suppressedMessages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'context' is defined but never used.","line":15,"column":19,"nodeType":null,"messageId":"unusedVar","endLine":15,"endColumn":26,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\whhol\\Documents\\trae_projects\\eRegi\\functions\\src\\payment\\nice.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\whhol\\Documents\\trae_projects\\eRegi\\functions\\src\\payment\\toss.ts","messages":[],"suppressedMessages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":12,"column":28,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":12,"endColumn":31,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[477,480],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[477,480],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\whhol\\Documents\\trae_projects\\eRegi\\functions\\src\\scripts\\seedSocietyGrades.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\whhol\\Documents\\trae_projects\\eRegi\\functions\\src\\services\\featureFlags.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\whhol\\Documents\\trae_projects\\eRegi\\functions\\src\\services\\notificationService.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\whhol\\Documents\\trae_projects\\eRegi\\functions\\src\\utils\\email.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\whhol\\Documents\\trae_projects\\eRegi\\functions\\src\\utils\\nhnAlimTalk.examples.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\whhol\\Documents\\trae_projects\\eRegi\\functions\\src\\utils\\nhnAlimTalk.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\whhol\\Documents\\trae_projects\\eRegi\\functions\\src\\utils\\nhnAlimTalk.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\whhol\\Documents\\trae_projects\\eRegi\\functions\\src\\utils\\nhnCloud.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":28,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":28,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[776,779],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[776,779],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":78,"column":21,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":78,"endColumn":24,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2557,2560],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2557,2560],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":91,"column":72,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":91,"endColumn":75,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3004,3007],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3004,3007],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":127,"column":21,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":127,"endColumn":24,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4379,4382],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4379,4382],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":140,"column":90,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":140,"endColumn":93,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4859,4862],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4859,4862],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":168,"column":21,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":168,"endColumn":24,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[5886,5889],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[5886,5889],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":184,"column":12,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":184,"endColumn":15,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[6249,6252],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[6249,6252],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":206,"column":21,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":206,"endColumn":24,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[6958,6961],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[6958,6961],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":226,"column":21,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":226,"endColumn":24,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[7659,7662],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[7659,7662],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":9,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import axios from 'axios';\r\n\r\n/**\r\n * NHN Cloud KakaoTalk Bizmessage API Integration\r\n * API Documentation: https://docs.nhncloud.com/ko/Notification/KakaoTalk%20Bizmessage/ko/alimtalk-api-guide/\r\n */\r\n\r\nexport interface NHNCloudConfig {\r\n    appKey: string;\r\n    secretKey: string;\r\n    senderKey: string;\r\n}\r\n\r\nexport interface AlimTalkSendParams {\r\n    recipientNo: string;  // ?섏떊???꾪솕踰덊샇 (?? 01012345678)\r\n    templateCode: string;  // ?쒗뵆由?肄붾뱶\r\n    templateParameter?: { [key: string]: string };  // ?쒗뵆由?移섑솚 蹂??r\n    recipientGroupingKey?: string;  // ?섏떊??洹몃９????r\n}\r\n\r\nexport interface AlimTalkSendResult {\r\n    success: boolean;\r\n    requestId?: string;\r\n    recipientSeq?: number;\r\n    resultCode?: string;\r\n    resultMessage?: string;\r\n    error?: string;\r\n    rawResponse?: any;\r\n}\r\n\r\n/**\r\n * Send AlimTalk message via NHN Cloud\r\n */\r\nexport async function sendAlimTalk(\r\n    config: NHNCloudConfig,\r\n    params: AlimTalkSendParams\r\n): Promise<AlimTalkSendResult> {\r\n    try {\r\n        const url = `https://api-alimtalk.cloud.toast.com/alimtalk/v2.3/appkeys/${config.appKey}/messages`;\r\n\r\n        const requestBody = {\r\n            senderKey: config.senderKey,\r\n            templateCode: params.templateCode,\r\n            recipientList: [\r\n                {\r\n                    recipientNo: params.recipientNo,\r\n                    templateParameter: params.templateParameter || {},\r\n                    recipientGroupingKey: params.recipientGroupingKey\r\n                }\r\n            ]\r\n        };\r\n\r\n        const response = await axios.post(url, requestBody, {\r\n            headers: {\r\n                'Content-Type': 'application/json;charset=UTF-8',\r\n                'X-Secret-Key': config.secretKey\r\n            }\r\n        });\r\n\r\n        if (response.data.header.isSuccessful) {\r\n            return {\r\n                success: true,\r\n                requestId: response.data.body.data.requestId,\r\n                recipientSeq: response.data.body.data.recipientList?.[0]?.recipientSeq,\r\n                resultCode: response.data.body.data.recipientList?.[0]?.resultCode,\r\n                resultMessage: 'AlimTalk sent successfully',\r\n                rawResponse: response.data\r\n            };\r\n        } else {\r\n            return {\r\n                success: false,\r\n                resultCode: response.data.header.resultCode,\r\n                resultMessage: response.data.header.resultMessage,\r\n                error: response.data.header.resultMessage,\r\n                rawResponse: response.data\r\n            };\r\n        }\r\n    } catch (error: any) {\r\n        console.error('[NHN Cloud AlimTalk] Send error:', error.response?.data || error.message);\r\n        return {\r\n            success: false,\r\n            error: error.response?.data?.header?.resultMessage || error.message || 'Unknown error occurred',\r\n            rawResponse: error.response?.data\r\n        };\r\n    }\r\n}\r\n\r\n/**\r\n * Get AlimTalk template list\r\n */\r\nexport async function getTemplateList(config: NHNCloudConfig): Promise<any> {\r\n    try {\r\n        const url = `https://api-alimtalk.cloud.toast.com/alimtalk/v2.3/appkeys/${config.appKey}/senders/${config.senderKey}/templates`;\r\n\r\n        console.log(`[NHN API] Request URL: ${url}`);\r\n\r\n        const response = await axios.get(url, {\r\n            headers: {\r\n                'Content-Type': 'application/json;charset=UTF-8',\r\n                'X-Secret-Key': config.secretKey\r\n            },\r\n            params: {\r\n                pageNum: 1,\r\n                pageSize: 1000\r\n            }\r\n        });\r\n\r\n        console.log('[NHN API] Response:', JSON.stringify(response.data, null, 2));\r\n\r\n        if (response.data.header && response.data.header.isSuccessful) {\r\n            // API ?묐떟 援ъ“: templateListResponse.templates\r\n            const templates = response.data.templateListResponse?.templates || response.data.body?.data || [];\r\n            return {\r\n                success: true,\r\n                templates: templates,\r\n                rawResponse: response.data\r\n            };\r\n        } else {\r\n            const errorMsg = response.data.header?.resultMessage || 'Unknown error from NHN';\r\n            console.error('[NHN API] API Error:', errorMsg);\r\n            return {\r\n                success: false,\r\n                error: errorMsg,\r\n                rawResponse: response.data\r\n            };\r\n        }\r\n    } catch (error: any) {\r\n        console.error('[NHN Cloud AlimTalk] Get templates error:', error.response?.data || error.message);\r\n        return {\r\n            success: false,\r\n            error: error.response?.data?.header?.resultMessage || error.message || 'Unknown error occurred',\r\n            details: error.response?.data\r\n        };\r\n    }\r\n}\r\n\r\n/**\r\n * Get single AlimTalk template by code\r\n */\r\nexport async function getTemplate(config: NHNCloudConfig, templateCode: string): Promise<any> {\r\n    try {\r\n        const url = `https://api-alimtalk.cloud.toast.com/alimtalk/v2.3/appkeys/${config.appKey}/senders/${config.senderKey}/templates/${templateCode}`;\r\n\r\n        console.log(`[NHN API] Get Template Request: ${url}`);\r\n\r\n        const response = await axios.get(url, {\r\n            headers: {\r\n                'Content-Type': 'application/json;charset=UTF-8',\r\n                'X-Secret-Key': config.secretKey\r\n            }\r\n        });\r\n\r\n        console.log('[NHN API] Get Template Response:', JSON.stringify(response.data, null, 2));\r\n\r\n        if (response.data.header && response.data.header.isSuccessful) {\r\n            return {\r\n                success: true,\r\n                template: response.data.body?.data,\r\n                rawResponse: response.data\r\n            };\r\n        } else {\r\n            return {\r\n                success: false,\r\n                error: response.data.header?.resultMessage,\r\n                rawResponse: response.data\r\n            };\r\n        }\r\n    } catch (error: any) {\r\n        console.error('[NHN API] Get template error:', error);\r\n        return {\r\n            success: false,\r\n            error: error.message,\r\n            details: error.response?.data\r\n        };\r\n    }\r\n}\r\n\r\n/**\r\n * Get AlimTalk send history\r\n */\r\nexport async function getSendHistory(\r\n    config: NHNCloudConfig,\r\n    requestId: string\r\n): Promise<any> {\r\n    try {\r\n        const url = `https://api-alimtalk.cloud.toast.com/alimtalk/v2.3/appkeys/${config.appKey}/messages/${requestId}`;\r\n\r\n        const response = await axios.get(url, {\r\n            headers: {\r\n                'Content-Type': 'application/json;charset=UTF-8',\r\n                'X-Secret-Key': config.secretKey\r\n            }\r\n        });\r\n\r\n        if (response.data.header.isSuccessful) {\r\n            return {\r\n                success: true,\r\n                data: response.data.body.data\r\n            };\r\n        } else {\r\n            return {\r\n                success: false,\r\n                error: response.data.header.resultMessage\r\n            };\r\n        }\r\n    } catch (error: any) {\r\n        console.error('[NHN Cloud AlimTalk] Get send history error:', error.response?.data || error.message);\r\n        return {\r\n            success: false,\r\n            error: error.response?.data?.header?.resultMessage || error.message || 'Unknown error occurred'\r\n        };\r\n    }\r\n}\r\n\r\n/**\r\n * Validate NHN Cloud configuration\r\n */\r\nexport async function validateConfig(config: NHNCloudConfig): Promise<{ valid: boolean; error?: string }> {\r\n    try {\r\n        // Try to get template list to validate credentials\r\n        const result = await getTemplateList(config);\r\n        return {\r\n            valid: result.success,\r\n            error: result.error\r\n        };\r\n    } catch (error: any) {\r\n        return {\r\n            valid: false,\r\n            error: error.message\r\n        };\r\n    }\r\n}\r\n\r\nexport default {\r\n    sendAlimTalk,\r\n    getTemplateList,\r\n    getSendHistory,\r\n    validateConfig\r\n};\r\n","usedDeprecatedRules":[]}]
