# eRegi Slug ë° Conference ID í‘œì¤€ ê·œì¹™

> ì´ ë¬¸ì„œëŠ” eRegi ì‹œìŠ¤í…œì—ì„œ í•™ìˆ ëŒ€íšŒë¥¼ ìƒì„±í•  ë•Œ ë°˜ë“œì‹œ ì¤€ìˆ˜í•´ì•¼ í•˜ëŠ” Slugì™€ Document ID ê·œì¹™ì„ ì •ì˜í•©ë‹ˆë‹¤.

---

## ğŸ“Œ í•µì‹¬ ì›ì¹™

### 1. ì¼ê´€ì„± (Consistency)
- ëª¨ë“  í•™ìˆ ëŒ€íšŒëŠ” ë™ì¼í•œ ëª…ëª… ê·œì¹™ì„ ë”°ë¼ì•¼ í•¨
- ëŒ€ì†Œë¬¸ì, êµ¬ë¶„ì ì‚¬ìš©ì„ ì—„ê²©íˆ ì¤€ìˆ˜

### 2. ìœ ì¼ì„± (Uniqueness)
- `slug` í•„ë“œëŠ” URLì—ì„œ ì‚¬ìš©ë˜ë¯€ë¡œ ìœ ì¼í•´ì•¼ í•¨
- ë™ì¼í•œ `slug`ë¥¼ ê°€ì§„ ë¬¸ì„œê°€ 2ê°œ ì´ìƒ ì¡´ì¬í•˜ë©´ ì•ˆ ë¨

### 3. ì˜ˆì¸¡ ê°€ëŠ¥ì„± (Predictability)
- URLì„ í†µí•´ ì–´ë–¤ í•™ìˆ ëŒ€íšŒì¸ì§€ ì‰½ê²Œ ì˜ˆì¸¡ ê°€ëŠ¥í•´ì•¼ í•¨
- `year` + `season` ì¡°í•©ì„ ì‚¬ìš©

---

## ğŸ—ï¸ ê·œì¹™ ì •ì˜

### ë¬¸ì„œ ID (Document ID)

```
í˜•ì‹: {societyId}_{year}{season}

ì˜ˆì‹œ:
- kadd_2026spring  (KADD 2026ë…„ ë´„ í•™ìˆ ëŒ€íšŒ)
- kadd_2026fall    (KADD 2026ë…„ ê°€ì„ í•™ìˆ ëŒ€íšŒ)
- kadd_2027spring  (KADD 2027ë…„ ë´„ í•™ìˆ ëŒ€íšŒ)
- kap_2026spring   (KAP 2026ë…„ ë´„ í•™ìˆ ëŒ€íšŒ)
```

**ê·œì¹™:**
| êµ¬ë¶„ | ì„¤ëª… | ê·œì¹™ |
|------|--------|------|
| **societyId** | í•™íšŒ ì½”ë“œ | ì†Œë¬¸ì (`kadd`, `kap` ë“±) |
| **year** | ì—°ë„ | 4ìë¦¬ (`2026`, `2027`) |
| **season** | ì‹œê¸° | ì†Œë¬¸ì (`spring`, `fall`) |
| **êµ¬ë¶„ì** | í•˜ì´í”ˆ | `_` (ì–¸ë”ìŠ¤ì½”ì–´) |

### Slug í•„ë“œ

```
í˜•ì‹: {year}{season}

ì˜ˆì‹œ:
- "2026spring"  (2026ë…„ ë´„ í•™ìˆ ëŒ€íšŒ)
- "2026fall"    (2026ë…„ ê°€ì„ í•™ìˆ ëŒ€íšŒ)
- "2027spring"  (2027ë…„ ë´„ í•™ìˆ ëŒ€íšŒ)
```

**ê·œì¹™:**
| êµ¬ë¶„ | ì„¤ëª… | ê·œì¹™ |
|------|--------|------|
| **year** | ì—°ë„ | 4ìë¦¬ (`2026`, `2027`) |
| **season** | ì‹œê¸° | ì†Œë¬¸ì (`spring`, `fall`) |
| **êµ¬ë¶„ì** | ì—†ìŒ | ì—†ìŒ (ì—°ì† ì‘ì„±) |

---

## ğŸ“Š Firestore ë°ì´í„° êµ¬ì¡°

### Conference ë¬¸ì„œ ê²½ë¡œ

```
collections/conferences/{confId}
```

### í•„ìˆ˜ í•„ë“œ

| í•„ë“œëª… | íƒ€ì… | ì„¤ëª… | ì˜ˆì‹œ |
|--------|--------|--------|------|
| `id` | string | **(ë‚´ë¶€ í•„ë“œ, ì‚¬ìš©í•˜ì§€ ì•ŠìŒ)** ë¬¸ì„œ ë‚´ë¶€ì— ì €ì¥ëœ ID (ì‚­ì œ ê¶Œì¥) | "kadd_2026spring" |
| `slug` | string | URL ì‹ë³„ì (ìœ ì¼í•´ì•¼ í•¨) | "2026spring" |
| `societyId` | string | í•™íšŒ ID | "kadd" |
| `title` | LocalizedText | í•™ìˆ ëŒ€íšŒ ì œëª© | `{ko: "ì œ00íšŒ KADD í•™ìˆ ëŒ€íšŒ", en: "..."}` |
| `dates` | object | ì‹œì‘/ì¢…ë£Œì¼ | `{start: Timestamp, end: Timestamp}` |
| `status` | string | í•™ìˆ ëŒ€íšŒ ìƒíƒœ | "OPEN", "CLOSED", "ARCHIVED" |

### ì„œë¸Œì»¬ë ‰ì…˜ êµ¬ì¡°

```
conferences/
â””â”€â”€ {confId}/
    â”œâ”€â”€ agendas/              # ì•„ì  ë‹¤ (í”„ë¡œê·¸ë¨)
    â”œâ”€â”€ speakers/             # ì—°ì ì •ë³´
    â”œâ”€â”€ settings/
    â”‚   â”œâ”€â”€ registration/     # ë“±ë¡ ì„¤ì • (ê¸°ê°„ë³„ ë“±ë¡ë¹„)
    â”‚   â”œâ”€â”€ identity/        # ì‹ë³„ ì„¤ì •
    â”‚   â”œâ”€â”€ visual/          # ì‹œê° ì„¤ì •
    â”‚   â””â”€â”€ attendance/     # ì¶œì„ ì„¤ì •
    â””â”€â”€ registrations/       # ë“±ë¡ ë‚´ì—­
```

---

## âš ï¸ ê¸ˆì§€ì‚¬í•­ (Critical Rules)

### 1. ì¤‘ë³µ slug ê¸ˆì§€

```json
âŒ ì˜ëª»ëœ ì˜ˆì‹œ:

// conferences/kadd_2026
{
  "id": "kadd_2026",
  "slug": "2026spring",  // âš ï¸ ë‹¤ë¥¸ ë¬¸ì„œì™€ ì¤‘ë³µ!
  "societyId": "kadd"
}

// conferences/kadd_2026spring
{
  "id": "kadd_2026spring",
  "slug": "2026spring",  // âš ï¸ ìœ„ì™€ ë™ì¼í•œ slug!
  "societyId": "kadd"
}
```

**ê²°ê³¼:** ì¿¼ë¦¬ ì‹œ ì²« ë²ˆì§¸ ë¬¸ì„œ(`kadd_2026`)ê°€ ì„ íƒë˜ì–´ ë°ì´í„°ê°€ ë¹„ì–´ìˆìŒ

```json
âœ… ì˜¬ë°”ë¥¸ ì˜ˆì‹œ:

// conferences/kadd_2026spring (ìœ ì¼í•œ ë¬¸ì„œ)
{
  "id": "kadd_2026spring",
  "slug": "2026spring",  // âœ… ìœ ì¼í•œ slug
  "societyId": "kadd"
}
```

### 2. ë‚´ë¶€ id í•„ë“œ ì‚¬ìš© ê¸ˆì§€

**ë¬¸ì„œ ë‚´ë¶€ì— `id` í•„ë“œë¥¼ ì €ì¥í•˜ì§€ ë§ˆì„¸ìš”.**
- FirestoreëŠ” ì´ë¯¸ ë¬¸ì„œ ID(`doc.id`)ë¥¼ ê´€ë¦¬í•©ë‹ˆë‹¤.
- ë‚´ë¶€ `id` í•„ë“œëŠ” í˜¼ë€ì„ ì¼ìœ¼í‚¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```json
âŒ ì˜ëª»ëœ ì˜ˆì‹œ:
{
  "id": "kadd_2026spring",  // âš ï¸ ë¶ˆí•„ìš”í•œ ë‚´ë¶€ í•„ë“œ
  "slug": "2026spring",
  ...
}

âœ… ì˜¬ë°”ë¥¸ ì˜ˆì‹œ:
{
  "slug": "2026spring",  // âœ… ë‚´ë¶€ id í•„ë“œ ì—†ìŒ
  "societyId": "kadd",
  ...
}
```

### 3. ëŒ€ì†Œë¬¸ì í˜¼í•© ê¸ˆì§€

```json
âŒ ì˜ëª»ëœ ì˜ˆì‹œ:
{
  "id": "kap_2026Spring",  // âš ï¸ S ëŒ€ë¬¸ì
  "slug": "2026Spring"       // âš ï¸ S ëŒ€ë¬¸ì
}

âœ… ì˜¬ë°”ë¥¸ ì˜ˆì‹œ:
{
  "id": "kap_2026spring",   // âœ… ì†Œë¬¸ì
  "slug": "2026spring"       // âœ… ì†Œë¬¸ì
}
```

---

## ğŸ› ï¸ ê°œë°œ ì‹œ ì¤€ìˆ˜ ì‚¬í•­

### 1. ì¿¼ë¦¬ ë°©ì‹

ì½”ë“œì—ì„œ `slug` í•„ë“œë¡œ ì¿¼ë¦¬í•´ì•¼ í•©ë‹ˆë‹¤:

```typescript
// âœ… ì˜¬ë°”ë¥¸ ë°©ë²•
const q = query(
  collection(db, 'conferences'),
  where('slug', '==', '2026spring')
);
const querySnap = await getDocs(q);
if (!querySnap.empty) {
  const docId = querySnap.docs[0].id;  // ë¬¸ì„œ ID ì¶”ì¶œ
  const confId = docId;  // kadd_2026spring
}

// âŒ ì˜ëª»ëœ ë°©ë²• (URL slugë¥¼ ë¬¸ì„œ IDë¡œ ì§ì ‘ ì‚¬ìš©)
const docRef = doc(db, 'conferences', '2026spring');
// ì´ê²ƒì€ ì‹¤íŒ¨í•  ìˆ˜ ìˆìŒ (ë¬¸ì„œ IDì™€ slugê°€ ë‹¤ë¥´ê¸° ë•Œë¬¸)
```

### 2. ì„œë¸Œì»¬ë ‰ì…˜ ê²½ë¡œ

ì„œë¸Œì»¬ë ‰ì…˜ì€ **ë¬¸ì„œ ID(confId)**ë¥¼ ì‚¬ìš©í•´ì•¼ í•©ë‹ˆë‹¤:

```typescript
// âœ… ì˜¬ë°”ë¥¸ ë°©ë²•
const agendasRef = collection(db, 'conferences', confId, 'agendas');
// confId = kadd_2026spring

// âŒ ì˜ëª»ëœ ë°©ë²• (slug ì‚¬ìš©)
const agendasRef = collection(db, 'conferences', slug, 'agendas');
// slug = 2026spring (ë¬¸ì„œ IDì™€ ë‹¤ë¦„)
```

### 3. URL ë¼ìš°íŒ…

URLì€ `slug`ë¥¼ ì‚¬ìš©í•˜ì§€ë§Œ, ë°ì´í„° ë¡œë”©ì€ `confId`(ë¬¸ì„œ ID)ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤:

```typescript
// URL: https://kadd.eregi.co.kr/2026spring
const { slug } = useParams<{ slug: string }>();
// slug = "2026spring"

// ì¿¼ë¦¬ë¡œ confId ì°¾ê¸°
const q = query(collection(db, 'conferences'), where('slug', '==', slug));
const snap = await getDocs(q);
const confId = snap.docs[0].id;  // kadd_2026spring

// ì„œë¸Œì»¬ë ‰ì…˜ ë¡œë”© (confId ì‚¬ìš©)
const agendas = await getDocs(collection(db, 'conferences', confId, 'agendas'));
```

---

## ğŸ“‹ ìƒˆ í•™ìˆ ëŒ€íšŒ ìƒì„± ì²´í¬ë¦¬ìŠ¤íŠ¸

### Firestore Consoleì—ì„œ ì§ì ‘ ìƒì„± ì‹œ

- [ ] **ë¬¸ì„œ ID í˜•ì‹ í™•ì¸**: `{societyId}_{year}{season}`
  - ì˜ˆ: `kadd_2026spring`
- [ ] **slug í•„ë“œ í™•ì¸**: `{year}{season}`
  - ì˜ˆ: `"2026spring"`
- [ ] **societyId í•„ë“œ í™•ì¸**: í•™íšŒ ì½”ë“œ
  - ì˜ˆ: `"kadd"`
- [ ] **ì¤‘ë³µ slug í™•ì¸**: ë™ì¼í•œ `slug`ë¥¼ ê°€ì§„ ë‹¤ë¥¸ ë¬¸ì„œê°€ ì—†ëŠ”ì§€ í™•ì¸
- [ ] **ë‚´ë¶€ id í•„ë“œ ì œê±°**: ë¬¸ì„œ ë‚´ë¶€ì— `id` í•„ë“œë¥¼ ì €ì¥í•˜ì§€ ì•ŠìŒ
- [ ] **ì„œë¸Œì»¬ë ‰ì…˜ ìƒì„±**: `agendas`, `speakers`, `settings/registration`

### ì½”ë“œë¡œ ìƒì„± ì‹œ

- [ ] **ë¬¸ì„œ ID ìƒì„±**: `{societyId}_{year}{season}`
- [ ] **slug í•„ë“œ ì¶”ê°€**: `{year}{season}`
- [ ] **societyId í•„ë“œ ì¶”ê°€**: í•™íšŒ ì½”ë“œ
- [ ] **ì¤‘ë³µ ì²´í¬**: ì´ë¯¸ ê°™ì€ slugê°€ ì¡´ì¬í•˜ëŠ”ì§€ í™•ì¸
- [ ] **ë‚´ë¶€ id í•„ë“œ ì œê±°**: `id` í•„ë“œ ì¶”ê°€í•˜ì§€ ì•ŠìŒ

---

## ğŸš¨ ë¬¸ì œ ë°œìƒ ì‹œ ì§„ë‹¨ ë°©ë²•

### 1. ë°ì´í„°ê°€ ì•ˆ ë³´ì¼ ë•Œ

```
ì½˜ì†” ë¡œê·¸:
[useTranslation] Query by slug result: FOUND (2 docs)
[useTranslation] Found via slug query. confId: kadd_2026  â† ì˜ëª»ëœ ID
```

**í•´ê²°:**
- ì¤‘ë³µëœ `slug`ë¥¼ ê°€ì§„ ë¬¸ì„œë¥¼ í™•ì¸
- ì˜¬ë°”ë¥¸ ë¬¸ì„œë§Œ ë‚¨ê¸°ê³  ì‚­ì œ

### 2. ì¿¼ë¦¬ ì‹¤íŒ¨ ì‹œ

```
ì½˜ì†” ë¡œê·¸:
[useTranslation] Query by slug result: NOT FOUND
```

**í•´ê²°:**
- `slug` í•„ë“œ ê°’ í™•ì¸
- URLê³¼ `slug`ê°€ ì¼ì¹˜í•˜ëŠ”ì§€ í™•ì¸

### 3. ì„œë¸Œì»¬ë ‰ì…˜ì´ ë¹„ì–´ìˆì„ ë•Œ

```
ì½˜ì†” ë¡œê·¸:
[useTranslation] Agendas fetched: EMPTY
```

**í•´ê²°:**
- ì„œë¸Œì»¬ë ‰ì…˜ ê²½ë¡œ í™•ì¸: `conferences/{confId}/agendas`
- `confId`ê°€ ì˜¬ë°”ë¥¸ ë¬¸ì„œ IDì¸ì§€ í™•ì¸
- ì‹¤ì œë¡œ ë°ì´í„°ê°€ ìˆëŠ”ì§€ í™•ì¸

---

## ğŸ“ ì°¸ê³  ë¬¸ì„œ

- `src/types/schema.ts` - Firestore ìŠ¤í‚¤ë§ˆ ì •ì˜
- `src/hooks/useTranslation.ts` - Conference ë°ì´í„° ë¡œë”© ë¡œì§
- `src/hooks/useConference.ts` - Conference ì¿¼ë¦¬ ë¡œì§
- `src/App.tsx` - ë¼ìš°íŒ… ì„¤ì •

---

## ğŸ“Œ ë²„ì „ ê´€ë¦¬

- **ì‘ì„±ì¼**: 2026ë…„ 1ì›” 25ì¼
- **ë²„ì „**: 1.0.0
- **ë§ˆì§€ë§‰ ìˆ˜ì •**: 2026ë…„ 1ì›” 25ì¼ (KADD 2026spring ë°ì´í„° ë¡œë”© ë¬¸ì œ í•´ê²°)

---

## âœ… ìš”ì•½

| í•­ëª© | ê·œì¹™ |
|------|--------|
| **ë¬¸ì„œ ID** | `{societyId}_{year}{season}` (ì˜ˆ: `kadd_2026spring`) |
| **Slug** | `{year}{season}` (ì˜ˆ: `"2026spring"`) |
| **societyId** | í•™íšŒ ì½”ë“œ (ì†Œë¬¸ì, ì˜ˆ: `"kadd"`) |
| **ì‹œê¸°** | `spring`, `fall` (ì†Œë¬¸ì) |
| **ë…„ë„** | 4ìë¦¬ (ì˜ˆ: `2026`) |
| **ì¤‘ë³µ slug** | âŒ ê¸ˆì§€ |
| **ë‚´ë¶€ id í•„ë“œ** | âŒ ê¸ˆì§€ (ë¶ˆí•„ìš”) |
| **ëŒ€ì†Œë¬¸ì** | âœ… ì†Œë¬¸ìë§Œ ì‚¬ìš© |

---

> **ì¤‘ìš”:** ì´ ê·œì¹™ì€ eRegi ì‹œìŠ¤í…œì˜ ì•ˆì •ì„±ê³¼ ìœ ì§€ë³´ìˆ˜ì„±ì„ ìœ„í•´ ë°˜ë“œì‹œ ì¤€ìˆ˜í•´ì•¼ í•©ë‹ˆë‹¤.
